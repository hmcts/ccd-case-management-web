<div *ngIf="(hasResults() || hasDrafts())" class="pagination-top">
  <span class="text-16">Displaying {{ getFirstResult() }} - {{ getLastResult() }} out of {{ paginationMetadata.total_results_count }} applications</span>
</div>
<table *ngIf="hasResults() || hasDrafts()">
  <thead>
  <tr>
    <th class="search-result-column-label">Case reference</th>
    <th *ngFor="let col of resultView.columns">
      <table class="search-result-column-header">
        <tr>
          <div class="search-result-column-label" (click)="sort(col)">{{col.label}}</div>
          <div *ngIf="comparator(col)" class="search-result-column-sort">
            <a (click)="sort(col)" class="sort-widget" [innerHTML]="sortWidget(col)"></a>
          </div>
        </tr>
      </table>
    </th>
    <th *ngIf="activityEnabled()" style="width: 110px;"></th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let result of resultView.results | ccdSortSearchResult : sortParameters | paginate: { itemsPerPage: paginationPageSize, currentPage: selected.page, totalItems: paginationMetadata.total_results_count }">
    <td class="caseid-col">
      <a routerLink="/case/{{jurisdiction.id}}/{{caseType.id}}/{{result.case_id}}"><div class="text-16" [style.visibility]="hideRows ? 'hidden' : 'visible'">{{ result.case_id | ccdCaseReference }}</div></a>
    </td>
    <td *ngFor="let col of resultView.columns">
      <div class="text-16" [style.visibility]="hideRows ? 'hidden' : 'visible'">
        <ccd-field-read [caseField]="{
                id: col.case_field_id,
                label: col.label,
                field_type: col.case_field_type,
                value: result.case_fields[col.case_field_id]
          }"></ccd-field-read>
      </div>
    </td>
    <td *ngIf="activityEnabled()">
        <div [style.visibility]="hideRows ? 'hidden' : 'visible'">
          <ccd-activity [caseId]="result.case_id" [displayMode]="ICON"></ccd-activity>
        </div>
    </td>
  </tr>
  </tbody>
</table>
<pagination-controls [style.visibility]="hideRows ? 'hidden' : 'visible'" *ngIf="hasResults()" class="pagination" (pageChange)="goToPage($event)" autoHide="true" maxSize="8" screenReaderPaginationLabel="Pagination" screenReaderPageLabel="page" screenReaderCurrentLabel="You're on page"></pagination-controls>
<div *ngIf="!(hasResults() || hasDrafts())" class="notification">
  No cases found. Try using different filters.
</div>
